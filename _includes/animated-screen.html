<div class="screenCarousel">
  <div class="sc-track">
    <img class="sc-slide" src="{{ 'assets/screenshots/onboarding_dark_variantA.png' | relative_url }}" alt="hexit onboarding">
    <img class="sc-slide" src="{{ 'assets/screenshots/invertedGame_dark_variantB.png' | relative_url }}" alt="hexit inverted game mode">
  </div>
</div>
<div class="sc-dots">
  <button class="sc-dot sc-dot--active" data-slide="0" aria-label="Slide 1"></button>
  <button class="sc-dot" data-slide="1" aria-label="Slide 2"></button>
</div>
<script>
(function() {
  var track = document.querySelector('.sc-track');
  var carousel = document.querySelector('.screenCarousel');
  var dots = document.querySelectorAll('.sc-dot');
  var current = 0;

  function goTo(index) {
    current = index;
    track.classList.add('sc-track--manual');
    track.style.transform = index === 0 ? 'translateX(0)' : 'translateX(-50%)';
    dots.forEach(function(d) { d.classList.remove('sc-dot--active'); });
    dots[index].classList.add('sc-dot--active');
  }

  track.addEventListener('animationend', function() {
    goTo(1);
  });

  dots.forEach(function(dot) {
    dot.addEventListener('click', function() {
      goTo(parseInt(this.dataset.slide));
    });
  });

  // Touch swipe support
  var startX = 0;
  var dragging = false;

  carousel.addEventListener('touchstart', function(e) {
    startX = e.touches[0].clientX;
    dragging = true;
  }, { passive: true });

  carousel.addEventListener('touchend', function(e) {
    if (!dragging) return;
    dragging = false;
    var dx = e.changedTouches[0].clientX - startX;
    if (dx < -30 && current === 0) goTo(1);
    if (dx > 30 && current === 1) goTo(0);
  });
})();
</script>
